<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Calculadora profesional para cotizaci√≥n de tesis con empastado y opciones personalizadas" />
  <meta name="keywords" content="calculadora tesis, empastado, cotizaci√≥n, impresi√≥n" />
  <meta name="author" content="ServiGaco" />
  
  <title>Calculadora de Tesis - Cotizaci√≥n Profesional</title>

  <!-- ESTILOS -->
  <link rel="stylesheet" href="style.css" />

  <!-- FAVICON -->
  <link rel="icon" type="image/png" sizes="32x32" href="assets/icono.png" />
  <link rel="shortcut icon" href="assets/icono.png" />

  <!-- HTML2PDF -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" defer></script>
</head>

<body>
  <main class="container">
    
    <!-- ========================================
         üß≠ NAVEGACI√ìN PRINCIPAL
         ======================================== -->
    <nav class="main-nav" role="navigation" aria-label="Navegaci√≥n principal">
      <div class="nav-container">
        <!-- Logo -->
        <div class="nav-brand">
          <img src="logo.png" alt="Logo ServiGaco" class="nav-logo" />
        </div>

        <!-- Links de navegaci√≥n -->
        <ul class="nav-links">
          <li class="nav-item">
            <a href="index.html" class="nav-link active" id="navTesis">
              <span class="nav-icon">üéì</span>
              <span class="nav-text">Calculadora de Tesis</span>
            </a>
          </li>
          <li class="nav-item">
            <a href="calculadora_general.html" class="nav-link" id="navGeneral">
              <span class="nav-icon">üìã</span>
              <span class="nav-text">Servicios Generales</span>
            </a>
          </li>
        </ul>

        <!-- Bot√≥n m√≥vil (hamburguesa) -->
        <button class="nav-toggle" aria-label="Abrir men√∫" aria-expanded="false">
          <span class="hamburger"></span>
        </button>
      </div>
    </nav>

    <!-- ========================================
         üìù SECCI√ìN: CALCULADORA DE TESIS
         ======================================== -->
    <section class="form-card" aria-label="Formulario de cotizaci√≥n">
      <!-- Logo -->
      <figure class="logo-container">
        <img src="logo.png" alt="Logo de la empresa" class="logo-form" width="150" height="80" />
      </figure>

      <!-- T√≠tulo principal -->
      <header>
        <h1>Calculadora de Tesis</h1>
      </header>

      <!-- Formulario de cotizaci√≥n -->
      <form id="formCotizacion" aria-label="Formulario de c√°lculo">
        
        <!-- Tama√±o de papel -->
        <div class="form-group">
          <label for="tamano">
            <span class="label-icon">üìê</span>
            Tama√±o de papel
          </label>
          <select id="tamano" name="tamano" required aria-describedby="alertaTabloide">
            <option value="carta">Carta (8.5 x 11)</option>
            <option value="tabloide">11 x 17</option>
          </select>
        </div>

        <!-- Alerta tama√±o tabloide -->
        <div id="alertaTabloide" class="alerta" role="alert" aria-live="polite">
          <span class="alert-icon">‚ö†Ô∏è</span>
          11√ó17 solo disponible en papel satinado con empastado vinil.
        </div>

        <!-- Tipo de papel -->
        <div class="form-group">
          <label for="papel">
            <span class="label-icon">üìÑ</span>
            Tipo de papel
          </label>
          <select id="papel" name="papel" required>
            <option value="bond">Bond</option>
            <option value="hilo">Hilo</option>
            <option value="satinado">Satinado</option>
          </select>
        </div>

        <!-- P√°ginas B/N y Color -->
        <div id="bnColorSection" class="form-section">
          <div class="form-group">
            <label for="bn">
              <span class="label-icon">‚ö´</span>
              P√°ginas Blanco y Negro
            </label>
            <input 
              type="number" 
              id="bn" 
              name="bn"
              min="0" 
              value="0"
              placeholder="Ej: 50"
              aria-label="Cantidad de p√°ginas en blanco y negro"
            />
          </div>

          <div class="form-group">
            <label for="color">
              <span class="label-icon">üé®</span>
              P√°ginas a Color
            </label>
            <input 
              type="number" 
              id="color" 
              name="color"
              min="0" 
              value="0"
              placeholder="Ej: 10"
              aria-label="Cantidad de p√°ginas a color"
            />
          </div>
        </div>

        <!-- Total de p√°ginas (satinado) -->
        <div id="soloPaginas" class="form-section">
          <div class="form-group">
            <label for="paginas">
              <span class="label-icon">üìä</span>
              Total de p√°ginas
            </label>
            <input 
              type="number" 
              id="paginas" 
              name="paginas"
              min="1" 
              value="1"
              placeholder="Ej: 100"
              aria-label="Total de p√°ginas"
            />
          </div>
        </div>

        <!-- Cantidad de tomos -->
        <div class="form-group">
          <label for="tomos">
            <span class="label-icon">üìö</span>
            Cantidad de tomos
          </label>
          <input 
            type="number" 
            id="tomos" 
            name="tomos"
            value="1" 
            min="1" 
            max="10"
            required
            aria-label="N√∫mero de tomos a empastar"
          />
        </div>

        <!-- Tipo de empastado -->
        <div class="form-group">
          <label for="tipoEmpastado">
            <span class="label-icon">üìï</span>
            Tipo de empastado
          </label>
          <select id="tipoEmpastado" name="tipoEmpastado" required>
            <option value="tapa_dura">Tapa dura</option>
            <option value="vinil">Vinil</option>
          </select>
        </div>

        <!-- Color de tapa (solo tapa dura) -->
        <div id="colorTapaSection" class="form-section">
          <div class="form-group">
            <label for="colorTapa">
              <span class="label-icon">üé®</span>
              Color de tapa
            </label>
            <select id="colorTapa" name="colorTapa">
              <option value="beige">Beige</option>
              <option value="morado">Morado</option>
              <option value="azul_marino">Azul marino</option>
              <option value="azul_cielo">Azul cielo</option>
              <option value="rojo">Rojo</option>
              <option value="verde_botella">Verde botella</option>
              <option value="amarillo_medicina">Amarillo medicina</option>
              <option value="blanco">Blanco</option>
            </select>
          </div>
        </div>

        <!-- ¬øLleva lomo? -->
        <div class="form-group">
          <label for="lomo">
            <span class="label-icon">üìè</span>
            ¬øLleva lomo?
          </label>
          <select id="lomo" name="lomo">
            <option value="no">No</option>
            <option value="si">S√≠</option>
          </select>
        </div>

        <!-- ¬øLleva CD? -->
        <div class="form-group">
          <label for="llevaCd">
            <span class="label-icon">üíø</span>
            ¬øLleva CD?
          </label>
          <select id="llevaCd" name="llevaCd">
            <option value="no">No</option>
            <option value="si">S√≠</option>
          </select>
        </div>

        <!-- Cantidad de CD -->
        <div id="cdSection" class="form-section">
          <div class="form-group">
            <label for="cantidadCd">
              <span class="label-icon">üíø</span>
              Cantidad de CD
            </label>
            <input 
              type="number" 
              id="cantidadCd" 
              name="cantidadCd"
              min="1" 
              max="10"
              value="1"
              aria-label="N√∫mero de CDs a incluir"
            />
          </div>
        </div>

        <!-- Grupo de botones -->
        <div class="button-group">
          <button type="button" id="btnCalcular" class="btn btn-primary">
            <span class="btn-icon">üßÆ</span>
            Calcular Total
          </button>

          <button type="button" id="btnGenerar" class="btn btn-print">
            <span class="btn-icon">üñ®Ô∏è</span>
            Imprimir
          </button>

          <button type="button" id="btnDescargarPdf" class="btn">
            Descargar PDF
          </button>

          <button type="button" id="btnCompartir" class="btn btn-share">
            <span class="btn-icon">üì§</span>
            Compartir PDF
          </button>

          <button type="button" id="btnReiniciar" class="btn btn-secondary">
            <span class="btn-icon">üîÑ</span>
            Reiniciar
          </button>
        </div>

        <!-- Resultado del c√°lculo -->
        <div class="resultado" id="resultado" role="status" aria-live="polite"></div>

      </form>

      <!-- ========================================
           üí≥ SECCI√ìN: COTIZACI√ìN GENERADA
           ======================================== -->
      <section id="cotizacionGenerada" class="cotizacion" style="display: none;"></section>

      <!-- ========================================
           üìã SECCI√ìN: TABLA DE PRECIOS
           ======================================== -->
      <div class="tabla-container">
        <button 
          type="button" 
          id="btnMostrarTabla" 
          class="btn btn-secondary btn-toggle"
          aria-expanded="false"
          aria-controls="tablaPrecios"
        >
          <span class="btn-icon">üìã</span>
          Ver precios y detalles
        </button>

        <section 
          class="tabla-precios" 
          id="tablaPrecios" 
          aria-label="Tabla de precios y servicios"
        >
          <header class="tabla-header">
            <h3>
              <span class="tabla-icon">üìã</span>
              Precios y Detalles
            </h3>
            <p class="tabla-subtitle">Todos los precios est√°n en pesos dominicanos (RD$)</p>
          </header>

          <div class="tabla-responsive">
            <table>
              <caption class="sr-only">Lista completa de precios por servicio</caption>
              <thead>
                <tr>
                  <th scope="col">Concepto</th>
                  <th scope="col">Detalle</th>
                  <th scope="col">Precio (RD$)</th>
                </tr>
              </thead>
              <tbody>
                <!-- Papel Bond -->
                <tr>
                  <td data-label="Concepto">Bond</td>
                  <td data-label="Detalle">B/N</td>
                  <td data-label="Precio">$6 / p√°g.</td>
                </tr>
                <tr>
                  <td data-label="Concepto">Bond</td>
                  <td data-label="Detalle">Color</td>
                  <td data-label="Precio">$12 / p√°g.</td>
                </tr>

                <!-- Papel Hilo -->
                <tr>
                  <td data-label="Concepto">Hilo</td>
                  <td data-label="Detalle">B/N</td>
                  <td data-label="Precio">$8 / p√°g.</td>
                </tr>
                <tr>
                  <td data-label="Concepto">Hilo</td>
                  <td data-label="Detalle">Color</td>
                  <td data-label="Precio">$15 / p√°g.</td>
                </tr>

                <!-- Papel Satinado -->
                <tr>
                  <td data-label="Concepto">Satinado (Carta)</td>
                  <td data-label="Detalle">B/N o Color</td>
                  <td data-label="Precio">$25 / p√°g.</td>
                </tr>
                <tr>
                  <td data-label="Concepto">Satinado (11√ó17)</td>
                  <td data-label="Detalle">B/N o Color</td>
                  <td data-label="Precio">$45 / p√°g.</td>
                </tr>

                <!-- Empastado Tapa Dura -->
                <tr>
                  <td data-label="Concepto">Empastado Tapa Dura</td>
                  <td data-label="Detalle">Carta</td>
                  <td data-label="Precio">$500‚Äì600</td>
                </tr>

                <!-- Empastado Vinil -->
                <tr>
                  <td data-label="Concepto">Empastado Vinil</td>
                  <td data-label="Detalle">Carta</td>
                  <td data-label="Precio">$1,200</td>
                </tr>
                <tr>
                  <td data-label="Concepto">Empastado Vinil</td>
                  <td data-label="Detalle">11√ó17</td>
                  <td data-label="Precio">$1,500</td>
                </tr>

                <!-- Extras -->
                <tr>
                  <td data-label="Concepto">Lomo</td>
                  <td data-label="Detalle">Por tomo</td>
                  <td data-label="Precio">$50</td>
                </tr>
                <tr>
                  <td data-label="Concepto">CD rotulado</td>
                  <td data-label="Detalle">Por unidad</td>
                  <td data-label="Precio">$200</td>
                </tr>
              </tbody>
            </table>
          </div>

          <footer class="tabla-footer">
            <p>
              <span class="info-icon">‚ÑπÔ∏è</span>
              Los precios pueden variar seg√∫n especificaciones especiales. 
              Cont√°ctanos para m√°s informaci√≥n.
            </p>
          </footer>
        </section>
      </div>
    </section>

  </main>

  <!-- SCRIPTS -->
  <script src="script.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  
  <!-- Script del NAV -->
  <script>
    // ============================================
    // üß≠ NAVEGACI√ìN - FUNCIONALIDAD
    // ============================================
    function inicializarNav() {
      marcarPaginaActiva();
      configurarMenuMovil();
    }

    function marcarPaginaActiva() {
      const paginaActual = window.location.pathname.split('/').pop() || 'index.html';
      
      document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
      });
      
      if (paginaActual === 'index.html' || paginaActual === '') {
        document.getElementById('navTesis')?.classList.add('active');
      } else if (paginaActual === 'calculadora_general.html') {
        document.getElementById('navGeneral')?.classList.add('active');
      }
    }

    function configurarMenuMovil() {
      const navToggle = document.querySelector('.nav-toggle');
      const navLinks = document.querySelector('.nav-links');
      
      if (!navToggle || !navLinks) return;
      
      navToggle.addEventListener('click', () => {
        const isExpanded = navToggle.getAttribute('aria-expanded') === 'true';
        navToggle.setAttribute('aria-expanded', !isExpanded);
        navLinks.classList.toggle('active');
      });
      
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', () => {
          navToggle.setAttribute('aria-expanded', 'false');
          navLinks.classList.remove('active');
        });
      });
      
      document.addEventListener('click', (e) => {
        if (!e.target.closest('.main-nav')) {
          navToggle.setAttribute('aria-expanded', 'false');
          navLinks.classList.remove('active');
        }
      });
    }

    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', inicializarNav);
    } else {
      inicializarNav();
    }
  </script>
</body>
</html>